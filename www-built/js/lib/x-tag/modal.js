(function(){var e=/OS [1-4]_\d like Mac OS X/i.test(navigator.userAgent),t=/Android 2.\d.+AppleWebKit/.test(navigator.userAgent),n=/Android 2\.3.+AppleWebKit/.test(navigator.userAgent);if(t){var r=document.createElement("meta");r.name="viewport",r.content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;",document.head.appendChild(r)}window.addEventListener("keyup",function(e){e.keyCode==27&&xtag.query(document,"x-modal").forEach(function(e){e.getAttribute("data-modal-hidden")||xtag.fireEvent(e,"modalhide")})});if(e||t)console.log("OLD"),window.addEventListener("scroll",function(e){var t=xtag.query(document,"body > x-modal");t.forEach(function(e){e.style.top=window.pageYOffset+window.innerHeight*.5+"px"})});xtag.register("x-modal",{mixins:["request"],onCreate:function(){this.setAttribute("tabindex",0)},onInsert:function(){if(e||t)this.style.top=window.pageYOffset+window.innerHeight*.5+"px"},events:{"modalhide:preventable":function(){this.setAttribute("data-modal-hidden",!0)}}})})()