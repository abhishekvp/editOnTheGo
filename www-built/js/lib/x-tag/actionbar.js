(function(){xtag.register("x-actionbar",{events:{"command:delegate(x-action)":function(e){var t=this.getAttribute("group"),n=t?xtag.query(this.parentNode,'[for="'+t+'"]'):!1,r=document.querySelector('[data-action-group-modal="'+t+'"]'),i=this.getAttribute("command"),s=document.getElementById(this.getAttribute("data-modal-target"))||document.body;if(n&&!r){var o=document.createElement("x-overlay");o.setAttribute("data-click-remove",!0),s.appendChild(o),r=document.createElement("x-modal"),r.setAttribute("data-overlay",!0),r.setAttribute("data-action-group-modal",t),xtag.addEvents(o,{"command:delegate(x-action)":function(e){var t=this.getAttribute("command");n.forEach(function(e){e.getAttribute("command")==t&&xtag.fireEvent(e,"command",{command:t})}),e.stopImmediatePropagation()},modalhide:function(){s.removeChild(o)}}),n.forEach(function(e){r.appendChild(e.cloneNode(!1))}),o.appendChild(r)}else r&&s.removeChild(r.parentNode)}}});var e=function(e){xtag.fireEvent(this,"command",{command:this.getAttribute("command")})};xtag.register("x-action",{content:"<img /><label></label>",onCreate:function(){this.setAttribute("tabindex",0),this.label=this.getAttribute("label"),this.src=this.getAttribute("src")},events:{tap:e,"keyup:keypass(13)":e},setters:{src:function(e){this.firstElementChild.src=e,this.setAttribute("src",e)},label:function(e){this.lastElementChild.innerHTML=e,this.setAttribute("label",e)}}})})()