xtag.register("x-tabbox",{events:{"tap:delegate(x-tab)":function(e){this.xtag.selectTab()},"keydown:delegate(x-tab)":function(e){switch(e.keyCode){case 13:this.xtag.selectTab();break;case 37:this.parentNode.xtag.previousTab();break;case 39:this.parentNode.xtag.nextTab()}}}}),xtag.register("x-tabs",{methods:{getSelectedIndex:function(){var e=xtag.query(this,"x-tab");return e.indexOf(this.xtag.getSelectedTab())},getSelectedTab:function(){return xtag.query(this,'x-tab[selected="true"]')[0]},nextTab:function(){var e=this.xtag.getSelectedTab();e&&(e.nextElementSibling||this.firstElementChild).xtag.selectTab()},previousTab:function(){var e=this.xtag.getSelectedTab();e&&(e.previousElementSibling||this.lastElementChild).xtag.selectTab()}}}),xtag.register("x-tab",{onCreate:function(){this.setAttribute("tabindex",0)},methods:{selectTab:function(){this.focus();var e=xtag.query(this.parentNode,"x-tab"),t=e.indexOf(this);e.forEach(function(e){e.setAttribute("selected",e==this?!0:"")},this),xtag.query(this.parentNode.parentNode,"x-tabpanels > *").forEach(function(e,n,r){e.setAttribute("selected",e==r[t]?!0:"")})}}})