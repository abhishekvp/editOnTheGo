xtag.register("x-accordion",{events:{"tap:delegate(x-toggler)":function(e){this.xtag.selectToggler()}},methods:{getSelectedIndex:function(){return xtag.query(this,"x-toggler").indexOf(this.querySelector('x-toggler[selected="true"]'))},getSelectedToggler:function(){return xtag.query(this,'x-toggler[selected="true"]')[0]},nextToggler:function(){var e=xtag.query(this.parentNode,"x-toggler");e[0]&&(e[this.xtag.getSelectedIndex()+1]||e[0]).xtag.selectToggler()},previousToggler:function(){var e=xtag.query(this.parentNode,"x-toggler");e[0]&&(e[this.xtag.getSelectedIndex()-1]||e.pop()).xtag.selectToggler()}}}),xtag.register("x-toggler",{onCreate:function(){this.setAttribute("tabindex",0)},events:{keydown:function(e){switch(e.keyCode){case 13:this.xtag.selectToggler();break;case 37:this.parentNode.xtag.previousToggler();break;case 39:this.parentNode.xtag.nextToggler()}}},methods:{selectToggler:function(){xtag.query(this.parentNode,"x-toggler").forEach(function(e){e.setAttribute("selected",e==this?!0:null)},this)}}})